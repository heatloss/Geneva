{"ast":null,"code":"import _extends from '@babel/runtime/helpers/extends';\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { p as props, d as defaults } from './componentEl-eebaee58.js';\nimport { a as addClassNames, c as classNamePropTypes } from './classNames-56c6ff01.js';\nimport { a as addSpacingClasses, m as marginPropTypes } from './spacing-59630a80.js';\nimport { S as SpacerSmd, a as SpacerMd, b as SpacerMlg, c as SpacerLg, e as SpacerXl } from './_variables.es6-01b764dd.js';\nfunction Avatar({\n  componentEl: Component,\n  avatar,\n  initials,\n  children,\n  className,\n  margin,\n  size,\n  ...otherProps\n}) {\n  // state for image error\n  const [error, setError] = useState(false);\n  function onError() {\n    setError(true);\n  }\n\n  // given a width and an array of images\n  // returns image with closest size to desired width\n  function closestImage(width, images) {\n    return images.reduce((closest, thisone) => {\n      if (Math.abs(width - thisone.width) < Math.abs(width - closest.width)) {\n        return thisone;\n      }\n      return closest;\n    }, images[0]);\n  }\n\n  // if there's no images or a name, don't do anything\n  if (!avatar && !initials) return null;\n  let cssClasses = ['st_avatar', `st_avatar--${size}`, 'st_border'];\n  cssClasses = addClassNames(className, cssClasses);\n  const imageAttributes = {};\n  cssClasses = addSpacingClasses({\n    margin,\n    cssClasses\n  });\n  if (avatar && typeof avatar === 'string') {\n    imageAttributes.src = avatar;\n  } else if (avatar && Array.isArray(avatar)) {\n    // TODO: read from design tokens!!!\n    const sizes = {\n      smd: SpacerSmd,\n      md: SpacerMd,\n      mlg: SpacerMlg,\n      lg: SpacerLg,\n      xl: SpacerXl\n    };\n    const sizedAvatar = closestImage(sizes[size], avatar);\n    const sizedAvatar2x = closestImage(sizes[size] * 2, avatar);\n    imageAttributes.src = sizedAvatar.url;\n    imageAttributes.srcSet = `${sizedAvatar.url}, ${sizedAvatar2x.url} 2x`;\n  }\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: cssClasses.join(' ')\n  }, otherProps), /*#__PURE__*/React.createElement(React.Fragment, null, avatar && !error && /*#__PURE__*/React.createElement(\"img\", _extends({\n    className: \"st_avatar__img\"\n  }, imageAttributes, {\n    loading: \"lazy\",\n    alt: \"\",\n    onError: onError\n  })), (!avatar || error) && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"st_avatar__letter\"\n  }, initials)));\n}\nAvatar.propTypes = {\n  /** dom element or component to use for outermost wrapper */\n  componentEl: props,\n  /** array of available avatar images, or url to single image */\n  avatar: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.shape({\n    width: PropTypes.number,\n    url: PropTypes.string\n  })), PropTypes.string]),\n  /** fallback letter */\n  initials: PropTypes.string,\n  /** extra CSS classes, if any */\n  className: classNamePropTypes,\n  /** margin for avatar, if any */\n  margin: marginPropTypes,\n  /** size of avatar */\n  size: PropTypes.oneOf(['smd', 'md', 'mlg', 'lg', 'xl'])\n};\nAvatar.defaultProps = {\n  componentEl: defaults,\n  avatar: null,\n  initials: null,\n  className: null,\n  margin: null,\n  size: 'mlg'\n};\nexport { Avatar as A };","map":{"version":3,"names":["_extends","React","useState","PropTypes","p","props","d","defaults","a","addClassNames","c","classNamePropTypes","addSpacingClasses","m","marginPropTypes","S","SpacerSmd","SpacerMd","b","SpacerMlg","SpacerLg","e","SpacerXl","Avatar","componentEl","Component","avatar","initials","children","className","margin","size","otherProps","error","setError","onError","closestImage","width","images","reduce","closest","thisone","Math","abs","cssClasses","imageAttributes","src","Array","isArray","sizes","smd","md","mlg","lg","xl","sizedAvatar","sizedAvatar2x","url","srcSet","createElement","join","Fragment","loading","alt","propTypes","oneOfType","arrayOf","shape","number","string","oneOf","defaultProps","A"],"sources":["/Users/mike/node_modules/@screentone/core/es/Avatar-bb552ece.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/extends';\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { p as props, d as defaults } from './componentEl-eebaee58.js';\nimport { a as addClassNames, c as classNamePropTypes } from './classNames-56c6ff01.js';\nimport { a as addSpacingClasses, m as marginPropTypes } from './spacing-59630a80.js';\nimport { S as SpacerSmd, a as SpacerMd, b as SpacerMlg, c as SpacerLg, e as SpacerXl } from './_variables.es6-01b764dd.js';\n\nfunction Avatar({\n  componentEl: Component,\n  avatar,\n  initials,\n  children,\n  className,\n  margin,\n  size,\n  ...otherProps\n}) {\n  // state for image error\n  const [error, setError] = useState(false);\n  function onError() {\n    setError(true);\n  }\n\n  // given a width and an array of images\n  // returns image with closest size to desired width\n  function closestImage(width, images) {\n    return images.reduce((closest, thisone) => {\n      if (Math.abs(width - thisone.width) < Math.abs(width - closest.width)) {\n        return thisone;\n      }\n      return closest;\n    }, images[0]);\n  }\n\n  // if there's no images or a name, don't do anything\n  if (!avatar && !initials) return null;\n  let cssClasses = ['st_avatar', `st_avatar--${size}`, 'st_border'];\n  cssClasses = addClassNames(className, cssClasses);\n  const imageAttributes = {};\n  cssClasses = addSpacingClasses({\n    margin,\n    cssClasses\n  });\n  if (avatar && typeof avatar === 'string') {\n    imageAttributes.src = avatar;\n  } else if (avatar && Array.isArray(avatar)) {\n    // TODO: read from design tokens!!!\n    const sizes = {\n      smd: SpacerSmd,\n      md: SpacerMd,\n      mlg: SpacerMlg,\n      lg: SpacerLg,\n      xl: SpacerXl\n    };\n    const sizedAvatar = closestImage(sizes[size], avatar);\n    const sizedAvatar2x = closestImage(sizes[size] * 2, avatar);\n    imageAttributes.src = sizedAvatar.url;\n    imageAttributes.srcSet = `${sizedAvatar.url}, ${sizedAvatar2x.url} 2x`;\n  }\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: cssClasses.join(' ')\n  }, otherProps), /*#__PURE__*/React.createElement(React.Fragment, null, avatar && !error && /*#__PURE__*/React.createElement(\"img\", _extends({\n    className: \"st_avatar__img\"\n  }, imageAttributes, {\n    loading: \"lazy\",\n    alt: \"\",\n    onError: onError\n  })), (!avatar || error) && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"st_avatar__letter\"\n  }, initials)));\n}\nAvatar.propTypes = {\n  /** dom element or component to use for outermost wrapper */\n  componentEl: props,\n  /** array of available avatar images, or url to single image */\n  avatar: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.shape({\n    width: PropTypes.number,\n    url: PropTypes.string\n  })), PropTypes.string]),\n  /** fallback letter */\n  initials: PropTypes.string,\n  /** extra CSS classes, if any */\n  className: classNamePropTypes,\n  /** margin for avatar, if any */\n  margin: marginPropTypes,\n  /** size of avatar */\n  size: PropTypes.oneOf(['smd', 'md', 'mlg', 'lg', 'xl'])\n};\nAvatar.defaultProps = {\n  componentEl: defaults,\n  avatar: null,\n  initials: null,\n  className: null,\n  margin: null,\n  size: 'mlg'\n};\n\nexport { Avatar as A };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}