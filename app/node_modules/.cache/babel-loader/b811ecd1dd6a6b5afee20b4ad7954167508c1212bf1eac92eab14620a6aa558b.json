{"ast":null,"code":"import { useState, useEffect } from 'react';\n\n/**\nfunctions that update the DOM\nseparated out so we can mock them during testing\notherwise testing craps out\n*/\n\nfunction createRootElement() {\n  let modalRootElem = document.getElementById('st-modal-root');\n  if (!modalRootElem) {\n    modalRootElem = document.createElement('div');\n    modalRootElem.setAttribute('id', 'st-modal-root');\n    modalRootElem.classList.add('st_modal-root');\n    document.body.appendChild(modalRootElem);\n  }\n  return modalRootElem;\n}\n\n/**\nModal Hook to manage creation of modal portal root element\nThe actual function to manipulate the DOM has been moved out\nIn order to mock it during testing\n*/\n\nfunction useModalPortal(params = {}) {\n  const {\n    portalTarget: initialPortalTarget\n  } = params;\n  const [portalTarget, setPortalTarget] = useState(initialPortalTarget || null);\n  useEffect(() => {\n    if (portalTarget) {\n      setPortalTarget(portalTarget);\n    } else {\n      setPortalTarget(createRootElement());\n    }\n  }, [setPortalTarget, portalTarget]);\n  return {\n    renderNode: portalTarget\n  };\n}\nexport { useModalPortal as default };","map":{"version":3,"names":["useState","useEffect","createRootElement","modalRootElem","document","getElementById","createElement","setAttribute","classList","add","body","appendChild","useModalPortal","params","portalTarget","initialPortalTarget","setPortalTarget","renderNode","default"],"sources":["/Users/mike/node_modules/@screentone/core/es/useModalPortal.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\n/**\nfunctions that update the DOM\nseparated out so we can mock them during testing\notherwise testing craps out\n*/\n\nfunction createRootElement() {\n  let modalRootElem = document.getElementById('st-modal-root');\n  if (!modalRootElem) {\n    modalRootElem = document.createElement('div');\n    modalRootElem.setAttribute('id', 'st-modal-root');\n    modalRootElem.classList.add('st_modal-root');\n    document.body.appendChild(modalRootElem);\n  }\n  return modalRootElem;\n}\n\n/**\nModal Hook to manage creation of modal portal root element\nThe actual function to manipulate the DOM has been moved out\nIn order to mock it during testing\n*/\n\nfunction useModalPortal(params = {}) {\n  const {\n    portalTarget: initialPortalTarget\n  } = params;\n  const [portalTarget, setPortalTarget] = useState(initialPortalTarget || null);\n  useEffect(() => {\n    if (portalTarget) {\n      setPortalTarget(portalTarget);\n    } else {\n      setPortalTarget(createRootElement());\n    }\n  }, [setPortalTarget, portalTarget]);\n  return {\n    renderNode: portalTarget\n  };\n}\n\nexport { useModalPortal as default };\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;;AAE3C;AACA;AACA;AACA;AACA;;AAEA,SAASC,iBAAiBA,CAAA,EAAG;EAC3B,IAAIC,aAAa,GAAGC,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC;EAC5D,IAAI,CAACF,aAAa,EAAE;IAClBA,aAAa,GAAGC,QAAQ,CAACE,aAAa,CAAC,KAAK,CAAC;IAC7CH,aAAa,CAACI,YAAY,CAAC,IAAI,EAAE,eAAe,CAAC;IACjDJ,aAAa,CAACK,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC;IAC5CL,QAAQ,CAACM,IAAI,CAACC,WAAW,CAACR,aAAa,CAAC;EAC1C;EACA,OAAOA,aAAa;AACtB;;AAEA;AACA;AACA;AACA;AACA;;AAEA,SAASS,cAAcA,CAACC,MAAM,GAAG,CAAC,CAAC,EAAE;EACnC,MAAM;IACJC,YAAY,EAAEC;EAChB,CAAC,GAAGF,MAAM;EACV,MAAM,CAACC,YAAY,EAAEE,eAAe,CAAC,GAAGhB,QAAQ,CAACe,mBAAmB,IAAI,IAAI,CAAC;EAC7Ed,SAAS,CAAC,MAAM;IACd,IAAIa,YAAY,EAAE;MAChBE,eAAe,CAACF,YAAY,CAAC;IAC/B,CAAC,MAAM;MACLE,eAAe,CAACd,iBAAiB,CAAC,CAAC,CAAC;IACtC;EACF,CAAC,EAAE,CAACc,eAAe,EAAEF,YAAY,CAAC,CAAC;EACnC,OAAO;IACLG,UAAU,EAAEH;EACd,CAAC;AACH;AAEA,SAASF,cAAc,IAAIM,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}