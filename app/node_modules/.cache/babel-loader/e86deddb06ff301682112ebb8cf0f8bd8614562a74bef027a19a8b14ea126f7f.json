{"ast":null,"code":"import { useEffect } from 'react';\n\n/**\nHook to load an SVG via fetch\nand insert into dom\nand also save to localStorage\n*/\nfunction useLocalStorageSVG({\n  url,\n  id,\n  version\n}) {\n  useEffect(() => {\n    if (!document.getElementById(id)) {\n      const svgVersion = localStorage && localStorage.getItem(`${id}-version`) || null;\n      const svgData = localStorage && localStorage.getItem(id) || null;\n      if (!svgData || svgVersion !== `${version}`) {\n        try {\n          fetch(url).then(response => {\n            if (!response.ok) {\n              return '';\n            }\n            return response.text();\n          }).then(svg => {\n            document.body.insertAdjacentHTML('beforeend', svg);\n            try {\n              /* mobile safari in private mode always fails localStorage */\n              localStorage.setItem(id, svg);\n              localStorage.setItem(`${id}-version`, version);\n            } catch (e) {\n              /* so lint doesn't complain */\n            }\n          });\n        } catch (e) {\n          /* added so tests don't choke, we dont really support browsers that don't do fetch() */\n        }\n      } else {\n        document.body.insertAdjacentHTML('beforeend', svgData);\n      }\n    }\n  }, [id, url, version]);\n}\n\n/*\nFetches SVG symbol from CDN and places inline on page\nSource for SVG symbol is \"icons.svg\"\nWhich is uploaded to the stipple/assets directory\n\nFetching instead of placing inline to leverage browser caching\nAnd to reduce bundle size, since icons are one of the largest assets\nfor this package\n\n*/\n\n/**\n *\n * @deprecated since 3.0.0. Use individual Icon React components instead.\n * Component will be removed in the next major release.\n */\nfunction IconSymbol() {\n  const version = 17;\n  useLocalStorageSVG({\n    url: `https://screentone.djnews.tools/assets/icons.${version}.svg?src=st_iconsymbol`,\n    id: 'st-icons',\n    version\n  });\n  const brandVersion = 5;\n  useLocalStorageSVG({\n    url: `https://screentone.djnews.tools/assets/brands-logos.${brandVersion}.svg?src=st_iconsymbol`,\n    id: 'st-brands-logos',\n    version\n  });\n  return null;\n}\nexport { IconSymbol as default };","map":{"version":3,"names":["useEffect","useLocalStorageSVG","url","id","version","document","getElementById","svgVersion","localStorage","getItem","svgData","fetch","then","response","ok","text","svg","body","insertAdjacentHTML","setItem","e","IconSymbol","brandVersion","default"],"sources":["/Users/mike/node_modules/@screentone/core/es/IconSymbol.js"],"sourcesContent":["import { useEffect } from 'react';\n\n/**\nHook to load an SVG via fetch\nand insert into dom\nand also save to localStorage\n*/\nfunction useLocalStorageSVG({\n  url,\n  id,\n  version\n}) {\n  useEffect(() => {\n    if (!document.getElementById(id)) {\n      const svgVersion = localStorage && localStorage.getItem(`${id}-version`) || null;\n      const svgData = localStorage && localStorage.getItem(id) || null;\n      if (!svgData || svgVersion !== `${version}`) {\n        try {\n          fetch(url).then(response => {\n            if (!response.ok) {\n              return '';\n            }\n            return response.text();\n          }).then(svg => {\n            document.body.insertAdjacentHTML('beforeend', svg);\n            try {\n              /* mobile safari in private mode always fails localStorage */\n              localStorage.setItem(id, svg);\n              localStorage.setItem(`${id}-version`, version);\n            } catch (e) {\n              /* so lint doesn't complain */\n            }\n          });\n        } catch (e) {\n          /* added so tests don't choke, we dont really support browsers that don't do fetch() */\n        }\n      } else {\n        document.body.insertAdjacentHTML('beforeend', svgData);\n      }\n    }\n  }, [id, url, version]);\n}\n\n/*\nFetches SVG symbol from CDN and places inline on page\nSource for SVG symbol is \"icons.svg\"\nWhich is uploaded to the stipple/assets directory\n\nFetching instead of placing inline to leverage browser caching\nAnd to reduce bundle size, since icons are one of the largest assets\nfor this package\n\n*/\n\n/**\n *\n * @deprecated since 3.0.0. Use individual Icon React components instead.\n * Component will be removed in the next major release.\n */\nfunction IconSymbol() {\n  const version = 17;\n  useLocalStorageSVG({\n    url: `https://screentone.djnews.tools/assets/icons.${version}.svg?src=st_iconsymbol`,\n    id: 'st-icons',\n    version\n  });\n  const brandVersion = 5;\n  useLocalStorageSVG({\n    url: `https://screentone.djnews.tools/assets/brands-logos.${brandVersion}.svg?src=st_iconsymbol`,\n    id: 'st-brands-logos',\n    version\n  });\n  return null;\n}\n\nexport { IconSymbol as default };\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,OAAO;;AAEjC;AACA;AACA;AACA;AACA;AACA,SAASC,kBAAkBA,CAAC;EAC1BC,GAAG;EACHC,EAAE;EACFC;AACF,CAAC,EAAE;EACDJ,SAAS,CAAC,MAAM;IACd,IAAI,CAACK,QAAQ,CAACC,cAAc,CAACH,EAAE,CAAC,EAAE;MAChC,MAAMI,UAAU,GAAGC,YAAY,IAAIA,YAAY,CAACC,OAAO,CAAE,GAAEN,EAAG,UAAS,CAAC,IAAI,IAAI;MAChF,MAAMO,OAAO,GAAGF,YAAY,IAAIA,YAAY,CAACC,OAAO,CAACN,EAAE,CAAC,IAAI,IAAI;MAChE,IAAI,CAACO,OAAO,IAAIH,UAAU,KAAM,GAAEH,OAAQ,EAAC,EAAE;QAC3C,IAAI;UACFO,KAAK,CAACT,GAAG,CAAC,CAACU,IAAI,CAACC,QAAQ,IAAI;YAC1B,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;cAChB,OAAO,EAAE;YACX;YACA,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC;UACxB,CAAC,CAAC,CAACH,IAAI,CAACI,GAAG,IAAI;YACbX,QAAQ,CAACY,IAAI,CAACC,kBAAkB,CAAC,WAAW,EAAEF,GAAG,CAAC;YAClD,IAAI;cACF;cACAR,YAAY,CAACW,OAAO,CAAChB,EAAE,EAAEa,GAAG,CAAC;cAC7BR,YAAY,CAACW,OAAO,CAAE,GAAEhB,EAAG,UAAS,EAAEC,OAAO,CAAC;YAChD,CAAC,CAAC,OAAOgB,CAAC,EAAE;cACV;YAAA;UAEJ,CAAC,CAAC;QACJ,CAAC,CAAC,OAAOA,CAAC,EAAE;UACV;QAAA;MAEJ,CAAC,MAAM;QACLf,QAAQ,CAACY,IAAI,CAACC,kBAAkB,CAAC,WAAW,EAAER,OAAO,CAAC;MACxD;IACF;EACF,CAAC,EAAE,CAACP,EAAE,EAAED,GAAG,EAAEE,OAAO,CAAC,CAAC;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASiB,UAAUA,CAAA,EAAG;EACpB,MAAMjB,OAAO,GAAG,EAAE;EAClBH,kBAAkB,CAAC;IACjBC,GAAG,EAAG,gDAA+CE,OAAQ,wBAAuB;IACpFD,EAAE,EAAE,UAAU;IACdC;EACF,CAAC,CAAC;EACF,MAAMkB,YAAY,GAAG,CAAC;EACtBrB,kBAAkB,CAAC;IACjBC,GAAG,EAAG,uDAAsDoB,YAAa,wBAAuB;IAChGnB,EAAE,EAAE,iBAAiB;IACrBC;EACF,CAAC,CAAC;EACF,OAAO,IAAI;AACb;AAEA,SAASiB,UAAU,IAAIE,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}